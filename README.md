# Yandex Multimodal Assistant

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞  
**Yandex Multimodal Assistant** ‚Äî —ç—Ç–æ –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç-–±–æ—Ç –¥–ª—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ –ú–ê–ò. –°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **–∞–≥–µ–Ω—Ç–∞** –∏ **Telegram-–±–æ—Ç–∞**

### –¶–µ–ª—å  
- –ó–∞–∫—Ä—ã–≤–∞—é—Ç –¥–æ 90 % —Ç–∏–ø–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –±–µ–∑ —É—á–∞—Å—Ç–∏—è —á–µ–ª–æ–≤–µ–∫–∞  
- –û—Ç–≤–µ—á–∞—é—Ç –∑–∞ ‚â§ 20 —Å–µ–∫—É–Ω–¥  
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –¥–æ 2000 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –¥–µ–Ω—å 


## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. Telegram-–±–æ—Ç (`src/telegram_bot`)  
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ **aiogram v3**.  
- **loader.py** ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥  
- **handlers/** ‚Äî –∫–æ–º–∞–Ω–¥—ã `/start`, `/instruction`, `/help`, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π  
- **dao/** ‚Äî `UserDAO` (SQLAlchemy AsyncSession + PostgreSQL) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–µ–π `users` (–ø—Ä–æ—Ñ–∏–ª—å, –∏—Å—Ç–æ—Ä–∏—è, –ø–æ—Ä—Ç—Ä–µ—Ç)  
- **middleware.py** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ —á–µ—Ä–µ–∑ DAO  
- **models/** ‚Äî ORM-–º–æ–¥–µ–ª—å `User` (–ø–æ–ª–µ `current_messages: JSON`, `psychological_profile` –∏ –¥—Ä.)

### 2. –ê–≥–µ–Ω—Ç (`src/react_agent`)  
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã, –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –æ—Ç–≤–µ—Ç.  
- **graph.py** ‚Äî –≥—Ä–∞—Ñ –∏ –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≥–µ–Ω—Ç–∞  
- **prompts.py** ‚Äî —à–∞–±–ª–æ–Ω—ã system/user-prompt –¥–ª—è LLM  
- **state.py** ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π –¥–∏–∞–ª–æ–≥–∞  
- **tools.py** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:  
  - —Ä–∞—Å—á—ë—Ç —Å—Ç–∏–ø–µ–Ω–¥–∏–π –∏ –ø—Ä–æ—Ö–æ–¥–Ω—ã—Ö –±–∞–ª–ª–æ–≤  
  - —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è  
  - –ø–æ–∏—Å–∫ –ø–æ –≤–Ω–µ—à–Ω–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º  –∏ —Ç–¥
- **configuration.py** ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–µ–π –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

### 3. –î–∞–Ω–Ω—ã–µ –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ (`src/react_agent/data`)  

–ò—Å—Ç–æ—á–Ω–∏–∫ –∑–Ω–∞–Ω–∏–π –¥–ª—è RAG-–ø–æ–¥—Ö–æ–¥–∞.  
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: —Å–∞–π—Ç priem.mai, PDF-–¥–æ–∫—É–º–µ–Ω—Ç—ã, Telegram-—á–∞—Ç—ã –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤, –ø–æ—Å—Ç—ã ¬´–í–ö–æ–Ω—Ç–∞–∫—Ç–µ¬ª, Google Forms  
- **OCR**: Yandex OCR –¥–ª—è —Å–∫–∞–Ω–æ–≤ PDF  
- **–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞**:  
  1. —É–¥–∞–ª–µ–Ω–∏–µ —à—É–º–∞ –∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤  
  2. —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è (~2000 —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ —á–∞–Ω–∫)  
  3. —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è —á–∞–Ω–∫–æ–≤  
  4. —Ç–µ–≥–≥–∏–Ω–≥ –ø–æ 30+ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–µ—Ç–∫–∞–º  

### 4. –ò–Ω–¥–µ–∫—Å –∏ –ø–æ–∏—Å–∫  
- **qDrant** –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞  
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** –¥–ª—è —Ç–æ—á–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–µ–º–µ  

### 5. Speech-to-Text  
- **Yandex SpeechKit** –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram  

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](data\–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.drawio.png)

[–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ—à–µ–Ω–∏—è](https://www.canva.com/design/DAGmD4NibeA/nDMmDWEzgEbTpb3zFBArRg/edit)

[Google Drive](https://drive.google.com/drive/folders/1DAMl06ZVpxBqQhkPIB5iLdKH2YCAKFY5) 

–û—Ç–ª–∏—á–Ω–æ, —Å–ø–∞—Å–∏–±–æ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫—É üëå. –î–∞–≤–∞–π –æ–±–Ω–æ–≤–∏–º README —Å —á–µ—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–æ–≥–æ, **–∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç** –∏ **–∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω—É–∂–Ω—ã**. –í–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –±–ª–æ–∫, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –º–æ–∂–µ—à—å –≤—Å—Ç–∞–≤–∏—Ç—å:

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### 1Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–∞

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
langgraph dev
```


### 2Ô∏è‚É£ –ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞

```bash
python -m src.telegram_bot.app.main
```

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `env.example` –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞. –£–∫–∞–∂–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞
TG_API_TOKEN=

# –î–æ—Å—Ç—É–ø –∫ Yandex SpeechKit + YandexGPT
API_KEY=
FOLDER_ID=

# –î–æ—Å—Ç—É–ø –∫ Qdrant (–≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
QDRANT_URL=
QDRANT_API_KEY=

# (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) IAM Token –¥–ª—è Yandex Cloud
IAM_TOKEN=
```

‚ùó **–í–∞–∂–Ω–æ:** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤ `.env` **–∏ –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ –∫–æ–¥–µ —á–µ—Ä–µ–∑ `load_dotenv()` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.**
